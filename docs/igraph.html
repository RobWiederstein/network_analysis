<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 igraph | Network Analysis in R</title>
  <meta name="description" content="tutorials on analyzing networks in R." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 igraph | Network Analysis in R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="tutorials on analyzing networks in R." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 igraph | Network Analysis in R" />
  
  <meta name="twitter:description" content="tutorials on analyzing networks in R." />
  

<meta name="author" content="Robert Wiederstein" />


<meta name="date" content="2021-01-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="modification.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Network Analysis in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#why-read-this-book"><i class="fa fa-check"></i><b>0.1</b> Why Read this Book</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#purpose"><i class="fa fa-check"></i><b>0.2</b> Purpose</a></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#collection"><i class="fa fa-check"></i><b>0.3</b> Collection</a></li>
<li class="chapter" data-level="0.4" data-path="index.html"><a href="index.html#prerequisites"><i class="fa fa-check"></i><b>0.4</b> Prerequisites</a></li>
<li class="chapter" data-level="0.5" data-path="index.html"><a href="index.html#disclaimer"><i class="fa fa-check"></i><b>0.5</b> Disclaimer</a></li>
<li class="chapter" data-level="0.6" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>0.6</b> Acknowledgements</a></li>
</ul></li>
<li class="part"><span><b>I The Basics</b></span><ul>
<li class="chapter" data-level="0.7" data-path="index.html"><a href="index.html#terms"><i class="fa fa-check"></i><b>0.7</b> Terms</a></li>
<li class="chapter" data-level="0.8" data-path="index.html"><a href="index.html#understanding-igraph-summary"><i class="fa fa-check"></i><b>0.8</b> Understanding <code>igraph</code> Summary</a></li>
<li class="chapter" data-level="0.9" data-path="index.html"><a href="index.html#creating-graphs"><i class="fa fa-check"></i><b>0.9</b> Creating Graphs</a></li>
<li class="chapter" data-level="0.10" data-path="index.html"><a href="index.html#manipulating-graphs"><i class="fa fa-check"></i><b>0.10</b> Manipulating Graphs</a></li>
<li class="chapter" data-level="0.11" data-path="index.html"><a href="index.html#input-formats"><i class="fa fa-check"></i><b>0.11</b> Input formats</a><ul>
<li class="chapter" data-level="0.11.1" data-path="index.html"><a href="index.html#adjacency-matrix"><i class="fa fa-check"></i><b>0.11.1</b> Adjacency matrix</a></li>
<li class="chapter" data-level="0.11.2" data-path="index.html"><a href="index.html#sparse-matrix"><i class="fa fa-check"></i><b>0.11.2</b> Sparse matrix</a></li>
<li class="chapter" data-level="0.11.3" data-path="index.html"><a href="index.html#incidence-matrix"><i class="fa fa-check"></i><b>0.11.3</b> Incidence matrix</a></li>
<li class="chapter" data-level="0.11.4" data-path="index.html"><a href="index.html#edge-list"><i class="fa fa-check"></i><b>0.11.4</b> Edge list</a></li>
<li class="chapter" data-level="0.11.5" data-path="index.html"><a href="index.html#dataframe-distinguished"><i class="fa fa-check"></i><b>0.11.5</b> Dataframe distinguished</a></li>
</ul></li>
<li class="chapter" data-level="0.12" data-path="index.html"><a href="index.html#datasets"><i class="fa fa-check"></i><b>0.12</b> Datasets</a></li>
<li class="chapter" data-level="0.13" data-path="index.html"><a href="index.html#sanity-checks"><i class="fa fa-check"></i><b>0.13</b> Sanity Checks</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="igraph.html"><a href="igraph.html"><i class="fa fa-check"></i><b>1</b> igraph</a><ul>
<li class="chapter" data-level="1.1" data-path="igraph.html"><a href="igraph.html#examples"><i class="fa fa-check"></i><b>1.1</b> Examples</a><ul>
<li class="chapter" data-level="1.1.1" data-path="igraph.html"><a href="igraph.html#simple-graphs"><i class="fa fa-check"></i><b>1.1.1</b> Simple Graphs</a></li>
<li class="chapter" data-level="1.1.2" data-path="igraph.html"><a href="igraph.html#notable-graphs"><i class="fa fa-check"></i><b>1.1.2</b> Notable Graphs</a></li>
<li class="chapter" data-level="1.1.3" data-path="igraph.html"><a href="igraph.html#complicated-graph"><i class="fa fa-check"></i><b>1.1.3</b> Complicated Graph</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="igraph.html"><a href="igraph.html#layout-of-nodes"><i class="fa fa-check"></i><b>1.2</b> Layout of Nodes</a><ul>
<li class="chapter" data-level="1.2.1" data-path="igraph.html"><a href="igraph.html#consistent-plotting"><i class="fa fa-check"></i><b>1.2.1</b> Consistent Plotting</a></li>
<li class="chapter" data-level="1.2.2" data-path="igraph.html"><a href="igraph.html#more-on-coordinates"><i class="fa fa-check"></i><b>1.2.2</b> More on Coordinates</a></li>
<li class="chapter" data-level="1.2.3" data-path="igraph.html"><a href="igraph.html#available-layouts"><i class="fa fa-check"></i><b>1.2.3</b> Available Layouts</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="igraph.html"><a href="igraph.html#attributes"><i class="fa fa-check"></i><b>1.3</b> Attributes</a><ul>
<li class="chapter" data-level="1.3.1" data-path="igraph.html"><a href="igraph.html#vertices"><i class="fa fa-check"></i><b>1.3.1</b> Vertices</a></li>
<li class="chapter" data-level="1.3.2" data-path="igraph.html"><a href="igraph.html#edges"><i class="fa fa-check"></i><b>1.3.2</b> Edges</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="modification.html"><a href="modification.html"><i class="fa fa-check"></i><b>2</b> Graph Modification</a><ul>
<li class="chapter" data-level="2.1" data-path="modification.html"><a href="modification.html#load-plot-house"><i class="fa fa-check"></i><b>2.1</b> Load plot “House”</a></li>
<li class="chapter" data-level="2.2" data-path="modification.html"><a href="modification.html#get-edges"><i class="fa fa-check"></i><b>2.2</b> Get Edges</a></li>
<li class="chapter" data-level="2.3" data-path="modification.html"><a href="modification.html#get-vertices"><i class="fa fa-check"></i><b>2.3</b> Get Vertices</a><ul>
<li class="chapter" data-level="2.3.1" data-path="modification.html"><a href="modification.html#add-vertices-attribute"><i class="fa fa-check"></i><b>2.3.1</b> Add vertices attribute</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="first-graphs.html"><a href="first-graphs.html"><i class="fa fa-check"></i><b>3</b> First Graphs</a><ul>
<li class="chapter" data-level="3.1" data-path="first-graphs.html"><a href="first-graphs.html#les-miserable-dataset"><i class="fa fa-check"></i><b>3.1</b> Les Miserable Dataset</a></li>
<li class="chapter" data-level="3.2" data-path="first-graphs.html"><a href="first-graphs.html#stop-light"><i class="fa fa-check"></i><b>3.2</b> Stop light</a></li>
<li class="chapter" data-level="3.3" data-path="first-graphs.html"><a href="first-graphs.html#les-miserabe"><i class="fa fa-check"></i><b>3.3</b> Les Miserabe</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="filter-and-group.html"><a href="filter-and-group.html"><i class="fa fa-check"></i><b>4</b> Filter and Group</a><ul>
<li class="chapter" data-level="4.1" data-path="filter-and-group.html"><a href="filter-and-group.html#pruning"><i class="fa fa-check"></i><b>4.1</b> Pruning</a></li>
<li class="chapter" data-level="4.2" data-path="filter-and-group.html"><a href="filter-and-group.html#grouping"><i class="fa fa-check"></i><b>4.2</b> Grouping</a></li>
</ul></li>
<li class="part"><span><b>II Other Packages</b></span><ul>
<li class="chapter" data-level="4.3" data-path="filter-and-group.html"><a href="filter-and-group.html#stop-light-1"><i class="fa fa-check"></i><b>4.3</b> Stop light</a></li>
</ul></li>
<li class="part"><span><b>III Case Studies</b></span><ul>
<li class="chapter" data-level="4.4" data-path="filter-and-group.html"><a href="filter-and-group.html#read-data"><i class="fa fa-check"></i><b>4.4</b> Read Data</a></li>
<li class="chapter" data-level="4.5" data-path="filter-and-group.html"><a href="filter-and-group.html#graph-object-error"><i class="fa fa-check"></i><b>4.5</b> Graph object error</a></li>
<li class="chapter" data-level="4.6" data-path="filter-and-group.html"><a href="filter-and-group.html#create-attributes"><i class="fa fa-check"></i><b>4.6</b> Create attributes</a></li>
<li class="chapter" data-level="4.7" data-path="filter-and-group.html"><a href="filter-and-group.html#final-plot"><i class="fa fa-check"></i><b>4.7</b> Final plot</a></li>
<li class="chapter" data-level="4.8" data-path="filter-and-group.html"><a href="filter-and-group.html#summary"><i class="fa fa-check"></i><b>4.8</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="irs.html"><a href="irs.html"><i class="fa fa-check"></i><b>5</b> Case Study – SOI Tax Stats</a><ul>
<li class="chapter" data-level="5.1" data-path="irs.html"><a href="irs.html#county-to-county-outflow-data"><i class="fa fa-check"></i><b>5.1</b> County-to-county Outflow data</a></li>
<li class="chapter" data-level="5.2" data-path="irs.html"><a href="irs.html#read-data-1"><i class="fa fa-check"></i><b>5.2</b> Read Data</a></li>
<li class="chapter" data-level="5.3" data-path="irs.html"><a href="irs.html#first-plot"><i class="fa fa-check"></i><b>5.3</b> First Plot</a></li>
<li class="chapter" data-level="5.4" data-path="irs.html"><a href="irs.html#open-the-space"><i class="fa fa-check"></i><b>5.4</b> Open the Space</a></li>
<li class="chapter" data-level="5.5" data-path="irs.html"><a href="irs.html#set-variable-for-vertex-size"><i class="fa fa-check"></i><b>5.5</b> Set Variable for Vertex Size</a></li>
<li class="chapter" data-level="5.6" data-path="irs.html"><a href="irs.html#set-vertex-color"><i class="fa fa-check"></i><b>5.6</b> Set Vertex Color</a></li>
<li class="chapter" data-level="5.7" data-path="irs.html"><a href="irs.html#layout-of-nodes-1"><i class="fa fa-check"></i><b>5.7</b> Layout of nodes</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="airlines.html"><a href="airlines.html"><i class="fa fa-check"></i><b>6</b> Case Study – Airlines</a></li>
<li class="chapter" data-level="7" data-path="riband.html"><a href="riband.html"><i class="fa fa-check"></i><b>7</b> Case Study – Blue Riband</a><ul>
<li class="chapter" data-level="7.1" data-path="riband.html"><a href="riband.html#introduction"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="riband.html"><a href="riband.html#igraph-1"><i class="fa fa-check"></i><b>7.2</b> Igraph</a><ul>
<li class="chapter" data-level="7.2.1" data-path="riband.html"><a href="riband.html#layout-with-kamada-kawai"><i class="fa fa-check"></i><b>7.2.1</b> Layout with Kamada-Kawai</a></li>
<li class="chapter" data-level="7.2.2" data-path="riband.html"><a href="riband.html#layout-with-fruchterman-reingold"><i class="fa fa-check"></i><b>7.2.2</b> Layout with Fruchterman-Reingold</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="riband.html"><a href="riband.html#geosphere"><i class="fa fa-check"></i><b>7.3</b> Geosphere</a></li>
<li class="chapter" data-level="7.4" data-path="riband.html"><a href="riband.html#networkd3-package"><i class="fa fa-check"></i><b>7.4</b> NetworkD3 Package</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i><b>8</b> Glossary</a></li>
<li class="appendix"><span><b>Appendix</b></span><ul>
<li class="chapter" data-level="1" data-path="glossary.html"><a href="glossary.html#bridges-of-koenigsburg"><i class="fa fa-check"></i><b>1</b> Bridges of Koenigsburg</a></li>
<li class="chapter" data-level="2" data-path="glossary.html"><a href="glossary.html#ukfaculty"><i class="fa fa-check"></i><b>2</b> UKfaculty</a></li>
</ul></li>
<li class="chapter" data-level="A" data-path="top-10-network-packages-in-r.html"><a href="top-10-network-packages-in-r.html"><i class="fa fa-check"></i><b>A</b> Top 10 Network Packages in R</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Network Analysis in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="igraph" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> igraph</h1>
<p><code>igraph</code> contains 773 functions. Three different plotting mechanisms exist: <code>igraph</code> for two dimensional plots, <code>tkplot</code> for interactive 2-dimensional plotting and <code>rglplot</code> which is for 3-dimensional plotting and is labeled as “experimental.” The <code>igraph</code> functions for two dimensional plots is the focus for the next * chapters.</p>
<div id="examples" class="section level2">
<h2><span class="header-section-number">1.1</span> Examples</h2>
<div id="simple-graphs" class="section level3">
<h3><span class="header-section-number">1.1.1</span> Simple Graphs</h3>
<p>The simple graph below was created from manual entry using igraph’s <code>graph_from_literal</code> function.</p>
<div class="figure" style="text-align: center"><span id="fig:simple-igraph-node"></span>
<img src="book_network_analysis_in_R_files/figure-html/simple-igraph-node-1.png" alt="Graph (a) is two nodes connected by edge, graph (b) is two unconnected nodes, graph (c) is two nodes with a directional edge, graph (d) is two nodes with the directional edge reversed, graph (e) is two nodes with a bidirectional edge, graph (f) is two nodes connected by a weighted edge, graph (g) is a single node with a loop, and graph (h) is a multigraph." width="672" />
<p class="caption">
Figure 1.1: Graph (a) is two nodes connected by edge, graph (b) is two unconnected nodes, graph (c) is two nodes with a directional edge, graph (d) is two nodes with the directional edge reversed, graph (e) is two nodes with a bidirectional edge, graph (f) is two nodes connected by a weighted edge, graph (g) is a single node with a loop, and graph (h) is a multigraph.
</p>
</div>
</div>
<div id="notable-graphs" class="section level3">
<h3><span class="header-section-number">1.1.2</span> Notable Graphs</h3>
<div class="figure" style="text-align: center"><span id="fig:notable-graphs-example"></span>
<img src="book_network_analysis_in_R_files/figure-html/notable-graphs-example-1.png" alt="Nine of 31 'Notable Graphs' from 'make_graph()`" width="576" />
<p class="caption">
Figure 1.2: Nine of 31 ‘Notable Graphs’ from ’make_graph()`
</p>
</div>
</div>
<div id="complicated-graph" class="section level3">
<h3><span class="header-section-number">1.1.3</span> Complicated Graph</h3>
<p>The complicated graph below was created from the Les Miserable resident dataset in <code>igraph</code>. <span class="citation">(Knuth <a href="#ref-knuthStanfordGraphBasePlatform1993">1993</a>)</span> The data contains 77 nodes and 254 edges.</p>
<div class="figure" style="text-align: center"><span id="fig:complicated-igraph-node"></span>
<img src="book_network_analysis_in_R_files/figure-html/complicated-igraph-node-1.png" alt="Network graph of the coappearnce of characters in Les Miserable." width="672" />
<p class="caption">
Figure 1.3: Network graph of the coappearnce of characters in Les Miserable.
</p>
</div>
</div>
</div>
<div id="layout-of-nodes" class="section level2">
<h2><span class="header-section-number">1.2</span> Layout of Nodes</h2>
<p>Nodes may be laid out in a variety of ways and many algorithms are available, depending on the data and the analyst’s personal preference. “It is important to realize that the information in graph layouts is contained in the pattern of which nodes are connected to which others. The locations . . . are chosen based on essentially aesthetic criteria.” <span class="citation">(Borgatti, Everett, and Johnson <a href="#ref-borgattiAnalyzingSocialNetworks2018">2018</a>)</span></p>
<div id="consistent-plotting" class="section level3">
<h3><span class="header-section-number">1.2.1</span> Consistent Plotting</h3>
<p>Many of the <code>igraph</code> layouts are generated through an algorithm and the coordinates change each time it is plotted. Part of the iterative process in visualization is to change different graphing parameters to reach the most visually pleasing chart. Thus, drafters may want to keep the layout the same as colors, size, etc. are changed. To keep the layout the same, the <code>set.seed()</code> function must be set.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">set.seed</span>(<span class="dv">1234</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">make_graph</span>(<span class="st">&quot;house&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">plot</span>(<span class="dt">main =</span> <span class="st">&quot;set.seed(1234)&quot;</span>)</a></code></pre></div>
<p>A second method to retain consistency in plotting is to retain the coordinates in a separate variable as opposed to the <code>set.seed()</code> strategy.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">data</span>(<span class="st">&quot;karate&quot;</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">coords &lt;-<span class="st"> </span><span class="kw">layout_with_fr</span>(karate, <span class="dt">niter =</span> <span class="dv">1000</span>)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="kw">par</span>(<span class="dt">oma=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">0</span>))</a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#Note layout set to &quot;coords&quot;</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="kw">plot.igraph</span>(karate, <span class="dt">layout =</span> coords, <span class="dt">main =</span> <span class="st">&quot;layout = coords #1&quot;</span>, <span class="dt">vertex.label =</span> <span class="ot">NA</span>, <span class="dt">vertex.color =</span> <span class="st">&quot;blue&quot;</span>)</a>
<a class="sourceLine" id="cb2-8" data-line-number="8"></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="kw">plot.igraph</span>(karate, <span class="dt">layout =</span> coords, <span class="dt">main =</span> <span class="st">&quot;layout = coords #2&quot;</span>, <span class="dt">vertex.label =</span> <span class="ot">NA</span>, <span class="dt">vertex.color =</span> <span class="st">&quot;red&quot;</span>)</a></code></pre></div>
<p><img src="book_network_analysis_in_R_files/figure-html/igraph-coordinates-variable-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="more-on-coordinates" class="section level3">
<h3><span class="header-section-number">1.2.2</span> More on Coordinates</h3>
<pre><code>## Warning: The `x` argument of `as_tibble.matrix()` must have column names if `.name_repair` is omitted as of tibble 2.0.0.
## Using compatibility `.name_repair`.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_warnings()` to see where this warning was generated.</code></pre>
<p><img src="book_network_analysis_in_R_files/figure-html/igraph-random-graphs-1.png" width="672" /></p>
</div>
<div id="available-layouts" class="section level3">
<h3><span class="header-section-number">1.2.3</span> Available Layouts</h3>
<p>According to the igraph documentation, 19 available layouts are available and include:</p>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:layout-options-igraph">Table 1.1: </span>Available layouts for nodes in <code>igraph</code>.
</caption>
<tbody>
<tr>
<td style="text-align:left;">
layout_
</td>
<td style="text-align:left;">
layout_as_bipartite
</td>
<td style="text-align:left;">
layout_as_star
</td>
</tr>
<tr>
<td style="text-align:left;">
layout_as_tree
</td>
<td style="text-align:left;">
layout_components
</td>
<td style="text-align:left;">
layout_in_circle
</td>
</tr>
<tr>
<td style="text-align:left;">
layout_nicely
</td>
<td style="text-align:left;">
layout_on_grid
</td>
<td style="text-align:left;">
layout_on_sphere
</td>
</tr>
<tr>
<td style="text-align:left;">
layout_randomly
</td>
<td style="text-align:left;">
layout_with_dh
</td>
<td style="text-align:left;">
layout_with_drl
</td>
</tr>
<tr>
<td style="text-align:left;">
layout_with_fr
</td>
<td style="text-align:left;">
layout_with_gem
</td>
<td style="text-align:left;">
layout_with_graphopt
</td>
</tr>
<tr>
<td style="text-align:left;">
layout_with_kk
</td>
<td style="text-align:left;">
layout_with_lgl
</td>
<td style="text-align:left;">
layout_with_mds
</td>
</tr>
<tr>
<td style="text-align:left;">
layout_with_sugiyama
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
</tr>
</tbody>
</table>
<p>Plots were randomly generated from an adjacency matrix as illustrated by <a href="https://www.r-graph-gallery.com/network.html">R-graph-gallery</a>. The <code>layout_nicely</code> function is the default. (verify). The function
uses the <code>layout_with_fr</code> with graphs less than 1,000 vertices and the <code>layout_with_drl</code> for graphs greater than 1,000 vertices.</p>
<div class="figure" style="text-align: center"><span id="fig:igraph-mosaic-layout"></span>
<img src="book_network_analysis_in_R_files/figure-html/igraph-mosaic-layout-1.png" alt="Examples of available layouts." width="672" />
<p class="caption">
Figure 1.4: Examples of available layouts.
</p>
</div>
<p>In plotting graphs with many nodes, the chosen layout will result in overlapping nodes. The challenge is in spreading the nodes out to the space available. One strategy was described in a stackoverflow <a href="https://stackoverflow.com/questions/39290909/igraph-resolving-tight-overlapping-nodes">question</a> using the <code>qgraph</code> library. The code was was used to reproduce the plot below.</p>
<div class="figure" style="text-align: center"><span id="fig:spread-node-layout"></span>
<img src="book_network_analysis_in_R_files/figure-html/spread-node-layout-1.png" alt="Node dispersion of the Fruchterman-Reingold (F-R) layout." width="672" />
<p class="caption">
Figure 1.5: Node dispersion of the Fruchterman-Reingold (F-R) layout.
</p>
</div>
</div>
</div>
<div id="attributes" class="section level2">
<h2><span class="header-section-number">1.3</span> Attributes</h2>
<p>Any chart is comprised of geoms. <code>igraph</code> allows for the color, size, shape to be set in of two ways. The first method is to supply named arguments to the plotting command, in the this case <code>plot.igraph</code>. The second method is to set the attributes via assignment to the vertex, edge or graph. According to the manual, assignments using the second method do not require “vertex” or “edge” to be prepended.</p>
<p>Some <code>igraph</code> attributes are treated specially like <code>color</code>, <code>layout</code>, <code>name</code>, <code>shape</code>, <code>type</code>, and <code>weight</code>. Use of these terms in code operations could result in the program producing surprising and unexpected results. The “best practice is to use attribute names starting with an <strong>uppercase letter</strong> to make sure that they have no influence on igraph’s internal functions.” <span class="citation">(Csardi and Kolaczyk <a href="#ref-csardiStatisticalAnalysisNetwork2014">2014</a>)</span></p>
<p>Graph attributes are listed anytime the graph object is sent to the console. See section *. Othewise, attributes of the graph, vertices, and edges can be determed through three functions: (1) <code>list.graph.attributes</code>, (2) <code>list.vertex.attributes</code>, and (3) <code>list.edge.attributes</code>. The function length can be cumbersome and the following function may be helpful in list all of them at once. <span class="citation">(<span class="citeproc-not-found" data-reference-id="knappNetworkVisualizationCookbook"><strong>???</strong></span>)</span></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co">#</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">get_igraph_attrs &lt;-<span class="st"> </span><span class="cf">function</span>(igraph){</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">  <span class="cf">if</span>(<span class="op">!</span><span class="kw">is_igraph</span>(igraph)) <span class="kw">stop</span>(<span class="st">&quot;Not a graph object&quot;</span>)</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">  <span class="kw">list</span>(<span class="dt">graph_attrs =</span> <span class="kw">list.graph.attributes</span>(igraph),</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">       <span class="dt">vertex_attrs =</span> <span class="kw">list.vertex.attributes</span>(igraph),</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">       <span class="dt">edge_attrs =</span> <span class="kw">list.edge.attributes</span>(igraph))</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">}</a>
<a class="sourceLine" id="cb4-8" data-line-number="8"></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="kw">get_igraph_attrs</span>(UKfaculty)</a></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co">#First Method -- supply named arguments to plot</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="kw">plot.igraph</span>(<span class="kw">make_graph</span>(<span class="st">&quot;Bull&quot;</span>),</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">            <span class="dt">vertex.shape =</span> <span class="st">&quot;square&quot;</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4">            )</a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#Second Method -- set vertex attributes</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6">g &lt;-<span class="st"> </span><span class="kw">make_graph</span>(<span class="st">&quot;Bull&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="st">        </span><span class="kw">set_vertex_attr</span>(<span class="dt">name =</span> <span class="st">&quot;shape&quot;</span>, </a>
<a class="sourceLine" id="cb5-8" data-line-number="8">                        <span class="dt">value =</span> <span class="st">&quot;square&quot;</span>)</a></code></pre></div>
<div id="vertices" class="section level3">
<h3><span class="header-section-number">1.3.1</span> Vertices</h3>
<div class="figure" style="text-align: center"><span id="fig:vertex-attributes"></span>
<img src="book_network_analysis_in_R_files/figure-html/vertex-attributes-1.png" alt="Selected node attributes." width="672" />
<p class="caption">
Figure 1.6: Selected node attributes.
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:more-color-examples"></span>
<img src="book_network_analysis_in_R_files/figure-html/more-color-examples-1.png" alt="Additional node color palettes." width="672" />
<p class="caption">
Figure 1.7: Additional node color palettes.
</p>
</div>
<div id="shapes" class="section level4">
<h4><span class="header-section-number">1.3.1.1</span> Shapes</h4>
</div>
<div id="sizes" class="section level4">
<h4><span class="header-section-number">1.3.1.2</span> Sizes</h4>
</div>
<div id="colors" class="section level4">
<h4><span class="header-section-number">1.3.1.3</span> Colors</h4>
<p>The argument to set the vertex color in the <code>plot.igraph</code> function is <code>vertex.color</code>. Like plots in base <code>R</code>, color may be set by a number (integer) or name (character) with the name being preferred. The default palette can be retrieved through <code>?igraph::categorical_pal(n)</code>. The colors are visible to those who are color-blind and is eight colors.</p>
<p>For plot.igraph and integer values, the default igraph palette is used (see the ‘palette’ parameter below. Note that this is different from the R palette.</p>
<p>If you don’t want (some) vertices to have any color, supply NA as the color name.</p>
<p>The default value is “SkyBlue2”.</p>
</div>
</div>
<div id="edges" class="section level3">
<h3><span class="header-section-number">1.3.2</span> Edges</h3>
<div class="figure" style="text-align: center"><span id="fig:edge-attributes"></span>
<img src="book_network_analysis_in_R_files/figure-html/edge-attributes-1.png" alt="Selected edge attributes." width="672" />
<p class="caption">
Figure 1.8: Selected edge attributes.
</p>
</div>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-borgattiAnalyzingSocialNetworks2018">
<p>Borgatti, Stephen P., Martin G. Everett, and Jeffrey C. Johnson. 2018. <em>Analyzing Social Networks</em>. 2nd ed. SAGE Publications Ltd.</p>
</div>
<div id="ref-csardiStatisticalAnalysisNetwork2014">
<p>Csardi, Gabor, and Eric D. Kolaczyk. 2014. <em>Statistical Analysis of Network Data with R</em>. New York: Springer.</p>
</div>
<div id="ref-knuthStanfordGraphBasePlatform1993">
<p>Knuth, Donald Ervin. 1993. <em>The Stanford GraphBase: A Platform for Combinatorial Computing</em>. AcM Press New York.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="modification.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["book_network_analysis_in_R.pdf", "book_network_analysis_in_R.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
